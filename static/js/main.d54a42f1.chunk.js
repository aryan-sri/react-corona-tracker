(this["webpackJsonpcorona-tracker"]=this["webpackJsonpcorona-tracker"]||[]).push([[0],{210:function(e,t,a){},211:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),c=a.n(o),l=a(5),i=a(7),s=a(79),u=a.n(s),d=function(e){var t=e.title,a=e.data;return r.a.createElement("div",{className:"datapanel"},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"fa fa-line-chart","aria-hidden":"true"})),r.a.createElement("div",{className:"data"},r.a.createElement("h3",null,t),r.a.createElement("h2",null,r.a.createElement(u.a,{end:a}))))};var m=Object(i.b)((function(e){return{cases:e.countryData.cases,deaths:e.countryData.deaths,recovered:e.countryData.recovered}}))((function(e){var t=e.cases,a=e.deaths,n=e.recovered;return r.a.createElement("div",{className:"datapanels_wrapper"},r.a.createElement(d,{title:"Cases",data:t}),r.a.createElement(d,{title:"Recovered",data:a}),r.a.createElement(d,{title:"Deaths",data:n}))})),f=a(19),p=a(80),h=a(81),E=a(87),v=a(86),y=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).toggle=function(){n.setState({active:!n.state.active})},n.selectItem=function(e){var t=e.target.innerText;n.props.setSelectedCountry(t),n.toggle()},n.state={countries:[],active:!1},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"dropdown",onClick:this.toggle},r.a.createElement("p",null,this.props.selectedCountry),r.a.createElement("a",{href:"#!",className:"dropdown_toggler ".concat(this.state.active?" up":" down"),onClick:this.toggle},r.a.createElement("i",{className:"fa fa-chevron-down","aria-hidden":"true"})),r.a.createElement("ul",{className:this.state.active?"active":""},this.props.countries.map((function(t){return r.a.createElement("li",{key:t,onClick:e.selectItem,className:e.props.selectedCountry===t?"selected":""},t)}))))}}]),a}(r.a.Component),g=function(){return r.a.createElement("div",{className:"spinner"})},b=a(27),C=a.n(b),D=function(e){return{type:"GET_ERRORS",payload:e}},N=function(e){return{type:"SET_IS_LOADING",payload:e}},O=function(){return function(e){e(N(!0)),C.a.get("https://disease.sh/v3/covid-19/countries").then((function(t){e({type:"GET_COUNTRIES",payload:t.data.map((function(e){return e.country}))}),e(N(!1))})).catch((function(t){return T(t,e)}))}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"India";return function(t){t(N(!0)),C.a.get("https://disease.sh/v3/covid-19/countries").then((function(a){var n=a.data.filter((function(t){return t.country.toLowerCase()===e.toLowerCase()}))[0],r={name:n.country,todayCases:n.todayCases,todayDeaths:n.todayDeaths,todayRecovered:n.todayRecovered,active:n.active,critical:n.critical,cases:n.cases,deaths:n.deaths,recovered:n.recovered,flag:n.countryInfo.flag};t({type:"GET_COUNTRY_DATA",payload:r}),t(N(!1))})).catch((function(e){return T(e,t)}))}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"India";return function(t){t(N(!0)),C.a.get("https://disease.sh/v3/covid-19/historical/".concat(encodeURI(e),"?lastdays=365")).then((function(e){var a=e.data,n=R(a.timeline.cases),r=R(a.timeline.deaths),o=R(a.timeline.recovered);t({type:"GET_HISTORICAL_DATA",payload:{caseData:n,deathsData:r,recoveredData:o}}),t(N(!1))})).catch((function(e){return T(e,t)}))}},R=function(e){for(var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=[],n=function(n){var r=Object.keys(e).filter((function(e){return e.split("/")[0]==n+1})),o=r[r.length-1],c={month:t[n],caseTypeData:e[o]};a.push(c)},r=0;r<t.length;r++)n(r);return a},w=function(e){return e.sort((function(e,t){return e.cases<t.cases}))},T=function(e,t){e.response?t(D({id:"SOMETHING_WENT_WRONG",err:"Oops..Something went Wrong"})):e.request&&!e.response&&t(D({id:"NETWORK_ERROR",err:"Network Error...Please try again!"}))};var j=Object(i.b)((function(e){return{isLoading:e.isLoading,countries:e.countries,name:e.countryData.name}}),{getCountryData:k,getHistoricalData:_})((function(e){var t=e.isLoading,a=e.getCountryData,o=e.countries,c=e.getHistoricalData,l=e.name,i=Object(n.useState)(l),s=Object(f.a)(i,2),u=s[0],d=s[1];return r.a.createElement("header",null,r.a.createElement("h2",null,"Corona Tracker"),r.a.createElement("div",{className:"actions"},t&&r.a.createElement(g,null),r.a.createElement(y,{countries:o,selectedCountry:u,setSelectedCountry:d}),r.a.createElement("button",{className:"primary-btn",onClick:function(){return a(e=u),void c(e);var e}},"Go!")))}));var S=Object(i.b)((function(e){return{name:e.countryData.name,todayCases:e.countryData.todayCases,todayDeaths:e.countryData.todayDeaths,todayRecovered:e.countryData.todayRecovered,active:e.countryData.active,critical:e.countryData.critical,flag:e.countryData.flag}}))((function(e){var t=e.name,a=e.todayCases,n=e.todayDeaths,o=e.todayRecovered,c=e.active,l=e.critical,i=e.flag;return r.a.createElement("div",{className:"country_data"},r.a.createElement("div",{className:"country_info"},r.a.createElement("h1",null,t,"'s Info"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("strong",null,"Country Name")," - ",t),r.a.createElement("li",null,r.a.createElement("strong",null,"Today's Cases")," - ",a),r.a.createElement("li",null,r.a.createElement("strong",null,"Today's Death")," - ",n),r.a.createElement("li",null,r.a.createElement("strong",null,"Today's Recovered")," - ",o),r.a.createElement("li",null,r.a.createElement("strong",null,"Active")," - ",c),r.a.createElement("li",null,r.a.createElement("strong",null,"Critical")," - ",l))),r.a.createElement("div",{className:"country_icon"},r.a.createElement("img",{src:i,alt:"Country Flag"})))})),I=a(82);var A=Object(i.b)((function(e){return{cases:e.historicalData.caseData,deaths:e.historicalData.deathsData,recovered:e.historicalData.recoveredData,countryName:e.countryData.name}}))((function(e){var t=e.cases,a=e.deaths,n=e.recovered,o=e.countryName,c={labels:t.map((function(e){return e.month})),datasets:[{label:"Cases",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"#ff1f2d",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"#ff1f2d",pointBackgroundColor:"#fff",pointBorderWidth:2,pointHoverRadius:6,pointHoverBorderWidth:2,pointRadius:5,pointHitRadius:10,data:t.map((function(e){return e.caseTypeData}))},{label:"Deaths",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"#ff1f2d",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"#ff1f2d",pointBackgroundColor:"#fff",pointBorderWidth:2,pointHoverRadius:6,pointHoverBorderWidth:2,pointRadius:5,pointHitRadius:10,data:a.map((function(e){return e.caseTypeData}))},{label:"Recovered",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"#ff1f2d",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"#ff1f2d",pointBackgroundColor:"#fff",pointBorderWidth:2,pointHoverRadius:6,pointHoverBorderWidth:2,pointRadius:5,pointHitRadius:10,data:n.map((function(e){return e.caseTypeData}))}]};return r.a.createElement("div",{className:"graph_container"},r.a.createElement(I.Line,{data:c,options:{responsive:!0,maintainAspectRatio:!1,legend:{display:!1},title:{display:!0,text:"".concat(o,"'s  data"),fontSize:25}}}))}));var H=Object(i.b)((function(e){return{error:e.error}}),{clearErrors:function(){return{type:"CLEAR_ERRORS"}},getCountries:O,getCountryData:k,getHistoricalData:_})((function(e){var t=e.error,a=e.clearErrors,n=e.getCountries,o=e.getCountryData,l=e.getHistoricalData;return c.a.createPortal(t.isError?r.a.createElement("div",{className:"modal-bg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("a",{href:"",className:"close-modal",onClick:function(e){e.preventDefault(),a()}},"\xd7"),r.a.createElement("h1",null,"Oops...."),r.a.createElement("p",null,t.err),r.a.createElement("button",{className:"primary-btn",onClick:function(){a(),n(),l(),o()}},"Retry"))):null,document.querySelector("#modal"))}));var G=function(){return r.a.createElement("div",{className:"home-wrapper"},r.a.createElement(H,null),r.a.createElement(j,null),r.a.createElement(m,null),r.a.createElement(S,null),r.a.createElement(A,null))},L=a(18);var W=Object(l.f)((function(e){var t=e.history,a=Object(n.useState)(t.location.pathname.substring(1)),o=Object(f.a)(a,2),c=o[0],l=o[1];return r.a.createElement("div",{className:"sidebar"},r.a.createElement("ul",null,r.a.createElement(L.b,{to:"/corona-tracker/",onClick:function(){return l("")}},r.a.createElement("li",{className:"".concat("react-corona-tracker/"===c?"active":"")},r.a.createElement("i",{className:"fa fa-home"}))),r.a.createElement(L.b,{to:"/corona-tracker/map",onClick:function(){return l("map")}},r.a.createElement("li",{className:"".concat("map"===c?"active":"")},r.a.createElement("i",{className:"fa fa-map-marker"}))),r.a.createElement(L.b,{to:"/corona-tracker/countries",onClick:function(){return l("globe")}},r.a.createElement("li",{className:"".concat("globe"===c?"active":"")},r.a.createElement("i",{className:"fa fa-globe"}))),r.a.createElement(L.b,{to:"/corona-tracker/info",onClick:function(){return l("info")}},r.a.createElement("li",{className:"".concat("info"===c?"active":"")},r.a.createElement("i",{className:"fa fa-info"})))))})),B=a(37);function F(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)({latitude:20,longitude:77,width:"88vw",height:"100vh",zoom:1}),l=Object(f.a)(c,2),i=l[0],s=l[1],u=Object(n.useState)(null),d=Object(f.a)(u,2),m=d[0],p=d[1];return Object(n.useEffect)((function(){fetch("https://disease.sh/v3/covid-19/countries").then((function(e){return e.json()})).then((function(e){return o(e)}));var e=function(e){"Escape"===e.key&&p(null)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),r.a.createElement("div",{className:"map_container"},r.a.createElement(B.c,Object.assign({},i,{mapStyle:"mapbox://styles/shaanalam/ckili38cz0c1f18se6ym09vrf",mapboxApiAccessToken:"pk.eyJ1Ijoic2hhYW5hbGFtIiwiYSI6ImNraWxyMnYyczBtOXkyc213aWM1N2E4bmEifQ.VnC3uqEt_8HemQG__UpaNQ",onViewportChange:function(e){return s(e)}}),a.map((function(e){return r.a.createElement(B.a,{key:e.country,latitude:e.countryInfo.lat,longitude:e.countryInfo.long},r.a.createElement("button",{className:"marker-btn",onClick:function(t){t.preventDefault(),p(e)}},r.a.createElement("div",{className:"circle"})))})),m&&r.a.createElement(B.b,{className:"popup_wrapper",latitude:m.countryInfo.lat,longitude:m.countryInfo.long,onClose:function(){return p(null)}},r.a.createElement("div",{className:"popup"},r.a.createElement("h4",null,m.country),r.a.createElement("img",{src:m.countryInfo.flag,alt:""}),r.a.createElement("ul",null,r.a.createElement("li",null,"Cases - ",m.cases),r.a.createElement("li",null,"Deaths - ",m.deaths),r.a.createElement("li",null,"Recovered - ",m.recovered))))))}function J(){return r.a.createElement("footer",null,r.a.createElement("p",null,"Made with"," ",r.a.createElement("span",{role:"img","aria-label":"emoji"},"\u2764\ufe0f")," ","by"," ",r.a.createElement("a",{href:"https://www.instagram.com/__iamshaan/",target:"_blank",rel:"noopener noreferrer"},"Shaan Alam")))}var M=Object(i.b)((function(e){return{topAffectedCountries:e.topAffectedCountries}}))((function(e){var t=e.topAffectedCountries;return r.a.createElement("div",{className:"top_affected_countries"},r.a.createElement("div",{className:"countries"},t.map((function(e,t){return r.a.createElement("div",{className:"country",key:e.country},r.a.createElement("div",{className:"country_img"},r.a.createElement("img",{src:e.countryInfo.flag,alt:""})),r.a.createElement("div",{className:"country_info"},r.a.createElement("h6",null,"#",t+1),r.a.createElement("h3",null,e.country),r.a.createElement("h6",null,"Cases: ",e.cases)))}))))}));function U(){return r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"info_header"},r.a.createElement("h1",null,"Corona Virus "),r.a.createElement("h2",null,"Protect yourself and others around you by knowing the facts and taking appropriate precautions. Follow advice provided by your local health authority.")),r.a.createElement("div",{className:"info_content"},r.a.createElement("h4",null,"To prevent the spread of COVID-19:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Clean your hands often. Use soap and water, or an alcohol-based hand rub."),r.a.createElement("li",null,"Maintain a safe distance from anyone who is coughing or sneezing."),r.a.createElement("li",null,"Wear a mask when physical distancing is not possible."),r.a.createElement("li",null,"Don\u2019t touch your eyes, nose or mouth."),r.a.createElement("li",null,"Cover your nose and mouth with your bent elbow or a tissue when you cough or sneeze."),r.a.createElement("li",null,"Stay home if you feel unwell."),r.a.createElement("li",null,"If you have a fever, cough and difficulty breathing, seek medical attention."))))}var x=Object(i.b)((function(e){return{isLoading:e.isLoading}}),{getCountries:O,getCountryData:k,getHistoricalData:_,getTopAffectedCountries:function(e){return function(e){e(N(!0)),C.a.get("https://disease.sh/v3/covid-19/countries").then((function(t){var a=w(t.data);e({type:"GET_TOP_AFFECTED_COUNTRIES",payload:a}),e(N(!1))}))}}})((function(e){var t=e.getCountries,a=e.getCountryData,o=e.getHistoricalData,c=e.getTopAffectedCountries;return Object(n.useEffect)((function(){t(),a(),o(),c()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App__left"},r.a.createElement(W,null)),r.a.createElement("div",{className:"App__right"},r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/corona-tracker/",component:G,exact:!0}),r.a.createElement(l.a,{path:"/corona-tracker/map",component:F}),r.a.createElement(l.a,{path:"/corona-tracker/countries",component:M}),r.a.createElement(l.a,{path:"/corona-tracker/info",component:U})),r.a.createElement(J,null))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(210);var z=a(17),P=a(84);var Y=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_LOADING":return t.payload;default:return e}};var V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_COUNTRIES":return t.payload;default:return e}},q=a(12),Q={name:null,todayCases:null,todayDeaths:null,todayRecovered:null,active:null,critical:null,cases:null,deaths:null,recovered:null};var K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_COUNTRY_DATA":return Object(q.a)(Object(q.a)({},e),t.payload);default:return e}},X={caseData:[],deathsData:[],recoveredData:[]};var $=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_HISTORICAL_DATA":return Object(q.a)(Object(q.a)({},e),t.payload);default:return e}},Z={isError:!1,id:"",err:""};var ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return Object(q.a)(Object(q.a)({},e),{},{isError:!0},t.payload);case"CLEAR_ERRORS":return Object(q.a)(Object(q.a)({},e),{},{id:"",isError:!1,err:""});default:return e}},te=[];var ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TOP_AFFECTED_COUNTRIES":return t.payload;default:return e}},ne=Object(z.combineReducers)({isLoading:Y,countries:V,countryData:K,historicalData:$,error:ee,topAffectedCountries:ae}),re=[a(85).a],oe=Object(z.createStore)(ne,Object(P.composeWithDevTools)(z.applyMiddleware.apply(void 0,re)));oe.subscribe((function(){return console.log(oe.getState())}));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:oe},r.a.createElement(L.a,null,r.a.createElement(x,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},88:function(e,t,a){e.exports=a(211)}},[[88,1,2]]]);
//# sourceMappingURL=main.d54a42f1.chunk.js.map